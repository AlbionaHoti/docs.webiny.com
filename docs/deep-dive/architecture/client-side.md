---
id: client-side
title: Webiny Client Side Architecture
sidebar_label: Client Side
---

## Client Side Architecture Graph
[![Webiny Serverless CMS - Architecture - Client Side](/img/deep-dive/architecture/webiny-architecture-client-side.png)](/img/deep-dive/architecture/webiny-architecture-client-side.png)

The Client side architecture is used in cases where the client is requesting either a specific page, like the ones generated by the Webiny Page Builder, or where the client is requesting specific app assets, such as JS & CSS files.

## Components
- A - **CloudFront web distribution**
- B - **APIGateway**
- C - **App service** 
- D - **SSR service**
- E - **Database**
- F - **S3 asset storage**

## Request Flows

### A) Client is requesting a page
1. Client makes a GET request for a particular page - i.e. a page created with the [Page Builder](http://localhost:3000/docs/webiny-apps/page-builder/getting-started) app.

2. The request first lands on the **(A) CloudFront web distribution**
    - Static pages, like the ones created by the Page Builder are automatically cached on the CDN layer for 30 days or more.
    - Although the page is always served from cache, once it's rendered on the client-side, a background async request is triggered to validate if the page "dirty" flag is set to `true`.
    - This flag is set to `true` in case somebody updates the page content.
    - If the flag is `true`, a background SSR process is triggered to refresh the page snapshot and to populate the new page content to the CDN.
    - On the next visit the user gets a fresh copy of the page which again is served off the CDN.
    - Using this approach we avoid/minimize the cold-starts.
    > To learn more about the Webiny SSR mechanism make sure to checkout - [Serverless Side Rendering](https://blog.webiny.com/serverless-side-rendering-e1c0924b8da1) blog post.

### B) Page content refresh

1. Once the client gets a page from **(A) CloudFront web distribution** it sends a background async request to check if the page is `dirty`.
2. This request lands on **(B) APIGateway** which calls the **(C) App service** lambda (also called "site lambda"). 
3. **(C) App service** lambda talks to the **(E) Database** to check if the page snapshot needs to be refreshed.
4. To refresh the snapshot **(C) App service** lambda triggers a parallel request to the **(D) SSR service**. It doesn't wait for the response in this case.
5. **(D) SSR service** creates the new snapshot, clears the old one from **(A) CDN cache**, and populates the new one.

### C) Client requesting a static asset

> Static asses in this flow are your app assets like JS & CSS files. For assets like images and documents uploaded via the File Service, checkout the [File Service](/docs/deep-dive/architecture/file-service) architecture document.

1. Client sends a GET request for `/static/main.js`. 
2. This request lands on the **(A) CloudFront CDN**.
3. In case the file is not found in the cache, the **(A) CloudFront web distribution** has a specific origin set for those requests where it goes forward to **(F) S3 asset storage** to fulfill that request. 
